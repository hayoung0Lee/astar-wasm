cmake_minimum_required(VERSION 3.11)

# 프로젝트 정보
project(
  Astar
  VERSION 0.1
  DESCRIPTION "astar algorithm"
  LANGUAGES CXX)

set(CMAKE_CXX_STANDARD 17)

add_executable (program lib/main.cpp lib/map_manager.cpp lib/astar_pathfinder.cpp)
target_include_directories(program PUBLIC ${CMAKE_SOURCE_DIR}/includes)

# set_target_properties(program PROPERTIES LINK_FLAGS "-s EXPORT_ES6=1 -o ${CMAKE_SOURCE_DIR}/src/main.mjs --bind -sLLD_REPORT_UNDEFINED")
# set_target_properties(program PROPERTIES OUTPUT_NAME "${CMAKE_SOURCE_DIR}/src/main")

# set_target_properties(program PROPERTIES LINK_FLAGS "-s EXPORT_ES6=1 -s ENVIRONMENT='web' -s USE_ES6_IMPORT_META=0  -s --bind -sLLD_REPORT_UNDEFINED")
# set_target_properties(program PROPERTIES LINK_FLAGS "-s EXPORT_ES6=1 -s ENVIRONMENT='web' -s USE_ES6_IMPORT_META=0  -s --bind -sLLD_REPORT_UNDEFINED")
# set_target_properties(program PROPERTIES OUTPUT_NAME "${CMAKE_SOURCE_DIR}/public/static/js/main")

set_target_properties(program PROPERTIES LINK_FLAGS "--bind -sLLD_REPORT_UNDEFINED")
set_target_properties(program PROPERTIES OUTPUT_NAME "${CMAKE_SOURCE_DIR}/public/static/js/main")


# add_compile_options(-o ${CMAKE_SOURCE_DIR}/src/main.mjs)
# target_compile_options(program PUBLIC -o ${CMAKE_SOURCE_DIR}/src/main.mjs)

# set_target_properties(program PROPERTIES LINK_OPTIONS "" "${CMAKE_SOURCE_DIR}/src/main.mjs")

# target_compile_options(program PUBLIC -o "${CMAKE_SOURCE_DIR}/src/main.mjs")